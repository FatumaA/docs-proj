---
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import { type UnsplashPhoto } from "../../models/unsplash";

export const prerender = false;

const response = await fetch("https://api.unsplash.com/photos", {
	method: "GET",
	headers: {
		Authorization: "Client-ID " + import.meta.env.UNSPLASH_ACCESS_KEY,
	},
});
const photoList = await response.json();
console.log(photoList);
---

<!-- 
{
    id: 'MNRtVty1cq0',
    slug: 'a-black-and-white-table-with-a-glass-top-MNRtVty1cq0',
    alternative_slugs: {
      en: 'a-black-and-white-table-with-a-glass-top-MNRtVty1cq0',
      es: 'una-mesa-en-blanco-y-negro-con-tapa-de-cristal-MNRtVty1cq0',
      ja: 'ガラス天板の黒と白のテーブル-MNRtVty1cq0',
      fr: 'une-table-en-noir-et-blanc-avec-un-plateau-en-verre-MNRtVty1cq0',
      it: 'un-tavolo-in-bianco-e-nero-con-piano-in-vetro-MNRtVty1cq0',
      ko: '유리-상판이-있는-흑백-테이블-MNRtVty1cq0',
      de: 'ein-schwarz-weisser-tisch-mit-glasplatte-MNRtVty1cq0',
      pt: 'uma-mesa-preta-e-branca-com-tampo-de-vidro-MNRtVty1cq0'
    },
    created_at: '2024-06-10T20:06:33Z',
    updated_at: '2024-06-21T12:00:23Z',
    promoted_at: '2024-06-21T10:09:22Z',
    width: 3651,
    height: 5477,
    color: '#f3f3f3',
    blur_hash: 'L6Q0aPxY_3~q~V_44nIT%MRPRjRP',
    description: null,
    alt_description: 'a black and white table with a glass top',
    breadcrumbs: [],
    urls: {
      raw: 'https://images.unsplash.com/photo-1718049719548-f5cea9f78592?ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3',
      full: 'https://images.unsplash.com/photo-1718049719548-f5cea9f78592?crop=entropy&cs=srgb&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=85',
      regular: 'https://images.unsplash.com/photo-1718049719548-f5cea9f78592?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=1080',
      small: 'https://images.unsplash.com/photo-1718049719548-f5cea9f78592?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=400',
      thumb: 'https://images.unsplash.com/photo-1718049719548-f5cea9f78592?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=200',
      small_s3: 'https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1718049719548-f5cea9f78592'
    },
    links: {
      self: 'https://api.unsplash.com/photos/a-black-and-white-table-with-a-glass-top-MNRtVty1cq0',
      html: 'https://unsplash.com/photos/a-black-and-white-table-with-a-glass-top-MNRtVty1cq0',
      download: 'https://unsplash.com/photos/MNRtVty1cq0/download?ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w',
      download_location: 'https://api.unsplash.com/photos/MNRtVty1cq0/download?ixid=M3w2MjQ5MDF8MHwxfGFsbHw3fHx8fHx8Mnx8MTcxODk3MTg0N3w'
    },
    likes: 4,
    liked_by_user: false,
    current_user_collections: [],
    sponsorship: null,
    topic_submissions: {},
    asset_type: 'photo',
    user: {
      id: 'tJ_FcPVXguI',
      updated_at: '2024-06-21T10:09:22Z',
      username: 'urban_vintage',
      name: 'Urban Vintage',
      first_name: 'Urban Vintage',
      last_name: null,
      twitter_username: 'dmqwe',
      portfolio_url: 'https://urban-vintage.ro/',
      bio: 'We sell curated vintage furniture and home decor.\r\n' +
        'Use our objects or our space for set decoration.  https://urban-vintage.ro/',
      location: 'Bucharest, Romania',
      links: [Object],
      profile_image: [Object],
      instagram_username: 'urban_vintage.ro',
      total_collections: 0,
      total_likes: 176,
      total_photos: 92,
      total_promoted_photos: 47,
      total_illustrations: 0,
      total_promoted_illustrations: 0,
      accepted_tos: true,
      for_hire: true,
      social: [Object]
    }
  },
  {
    id: 'p3wy5MS2rUo',
    slug: 'a-white-waterlily-floating-on-top-of-a-body-of-water-p3wy5MS2rUo',
    alternative_slugs: {
      en: 'a-white-waterlily-floating-on-top-of-a-body-of-water-p3wy5MS2rUo',
      es: 'un-nenufar-blanco-flotando-sobre-un-cuerpo-de-agua-p3wy5MS2rUo',
      ja: '水面に浮かぶ白い睡蓮-p3wy5MS2rUo',
      fr: 'un-nenuphar-blanc-flottant-au-dessus-dun-plan-deau-p3wy5MS2rUo',
      it: 'una-ninfea-bianca-che-galleggia-sopra-uno-specchio-dacqua-p3wy5MS2rUo',
      ko: '물-위에-떠-있는-흰-수련-p3wy5MS2rUo',
      de: 'eine-weisse-seerose-die-auf-einem-gewasser-schwimmt-p3wy5MS2rUo',
      pt: 'um-nenufare-branco-flutuando-em-cima-de-um-corpo-de-agua-p3wy5MS2rUo'
    },
    created_at: '2024-06-21T07:38:43Z',
    updated_at: '2024-06-21T10:11:39Z',
    promoted_at: '2024-06-21T10:08:54Z',
    width: 2755,
    height: 4133,
    color: '#262626',
    blur_hash: 'L568d0x@4W9H_1xa9HIoxtjvR*Rk',
    description: null,
    alt_description: 'A white waterlily floating on top of a body of water',
    breadcrumbs: [],
    urls: {
      raw: 'https://images.unsplash.com/photo-1718955386353-93c8dce1120e?ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3',
      full: 'https://images.unsplash.com/photo-1718955386353-93c8dce1120e?crop=entropy&cs=srgb&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=85',
      regular: 'https://images.unsplash.com/photo-1718955386353-93c8dce1120e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=1080',
      small: 'https://images.unsplash.com/photo-1718955386353-93c8dce1120e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=400',
      thumb: 'https://images.unsplash.com/photo-1718955386353-93c8dce1120e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w&ixlib=rb-4.0.3&q=80&w=200',
      small_s3: 'https://s3.us-west-2.amazonaws.com/images.unsplash.com/small/photo-1718955386353-93c8dce1120e'
    },
    links: {
      self: 'https://api.unsplash.com/photos/a-white-waterlily-floating-on-top-of-a-body-of-water-p3wy5MS2rUo',
      html: 'https://unsplash.com/photos/a-white-waterlily-floating-on-top-of-a-body-of-water-p3wy5MS2rUo',
      download: 'https://unsplash.com/photos/p3wy5MS2rUo/download?ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w',
      download_location: 'https://api.unsplash.com/photos/p3wy5MS2rUo/download?ixid=M3w2MjQ5MDF8MHwxfGFsbHw4fHx8fHx8Mnx8MTcxODk3MTg0N3w'
    },
    likes: 7,
    liked_by_user: false,
    current_user_collections: [],
    sponsorship: null,
    topic_submissions: {},
    asset_type: 'photo',
    user: {
      id: '5wcriBp39Ns',
      updated_at: '2024-06-21T11:21:34Z',
      username: 'sandertraa',
      name: 'sander traa',
      first_name: 'sander',
      last_name: 'traa',
      twitter_username: null,
      portfolio_url: 'http://www.sandertravel.com',
      bio: null,
      location: 'Antwerp',
      links: [Object],
      profile_image: [Object],
      instagram_username: 'sandertraa',
      total_collections: 0,
      total_likes: 17,
      total_photos: 452,
      total_promoted_photos: 81,
      total_illustrations: 0,
      total_promoted_illustrations: 0,
      accepted_tos: true,
      for_hire: true,
      social: [Object]
    }
  }, -->
<StarlightPage
	frontmatter={{
		title: "Unsplash Photo-Book",
		template: "splash",
	}}
>
	<div class="container mx-auto my-1 text-center text-justify-center">
		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
			{
				photoList.map((photo: UnsplashPhoto) => (
					<div class="border rounded-lg flex flex-col">
						<img
							src={photo.urls.small}
							alt={photo.alt_description}
							class="w-full h-48 object-cover rounded-lg"
						/>
						<div class="flex flex-row items-center justify-center gap-4 px-2">
							<p class="mt-2">{photo.alt_description}</p>
							<a
								href={photo.links.download}
								target="_blank"
								rel="noopener noreferrer"
								class="text-black"
							>
								<Icon
									name="download"
									size={24}
									class=" cursor-pointer hover:bg-black hover:text-white hover:p-2 rounded-full"
								/>
							</a>
						</div>
					</div>
				))
			}
		</div>
	</div>
</StarlightPage>
